/*! For license information please see grumptech-spawn-helper.js.LICENSE.txt */
import*as e from"child_process";var t={227:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))})),t.splice(o,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(447)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},447:(e,t,n)=>{e.exports=function(e){function t(e){let n,o,i,s=null;function a(...e){if(!a.enabled)return;const r=a,o=Number(new Date),i=o-(n||o);r.diff=i,r.prev=n,r.curr=o,n=o,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,o)=>{if("%%"===n)return"%";s++;const i=t.formatters[o];if("function"==typeof i){const t=e[s];n=i.call(r,t),e.splice(s,1),s--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(o!==t.namespaces&&(o=t.namespaces,i=t.enabled(e)),i),set:e=>{s=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function o(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(o),...t.skips.map(o).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),o=r.length;for(n=0;n<o;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},187:e=>{var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function i(){i.init.call(this)}e.exports=i,e.exports.once=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}g(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&g(e,"error",t,{once:!0})}(e,o)}))},i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?i.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var o,i,s,c;if(a(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=u(e))>0&&s.length>o&&!s.warned){s.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=s.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=l.bind(r);return o.listener=n,r.wrapFn=o,o}function d(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):p(o,o.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function g(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),i.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},i.prototype.getMaxListeners=function(){return u(this)},i.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o="error"===e,i=this._events;if(void 0!==i)o=o&&void 0===i.error;else if(!o)return!1;if(o){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var u=i[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var c=u.length,l=p(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},i.prototype.addListener=function(e,t){return c(this,e,t,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(e,t){return c(this,e,t,!0)},i.prototype.once=function(e,t){return a(t),this.on(e,f(this,e,t)),this},i.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,f(this,e,t)),this},i.prototype.removeListener=function(e,t){var n,r,o,i,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},i.prototype.listeners=function(e){return d(this,e,!0)},i.prototype.rawListeners=function(e){return d(this,e,!1)},i.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},i.prototype.listenerCount=h,i.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},452:e=>{var t,n,r=Object.prototype,o=r.hasOwnProperty,i=r.toString;"function"==typeof Symbol&&(t=Symbol.prototype.valueOf),"function"==typeof BigInt&&(n=BigInt.prototype.valueOf);var s=function(e){return e!=e},a={boolean:1,number:1,string:1,undefined:1},u=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/,c=/^[A-Fa-f0-9]+$/,l={};l.a=l.type=function(e,t){return typeof e===t},l.defined=function(e){return void 0!==e},l.empty=function(e){var t,n=i.call(e);if("[object Array]"===n||"[object Arguments]"===n||"[object String]"===n)return 0===e.length;if("[object Object]"===n){for(t in e)if(o.call(e,t))return!1;return!0}return!e},l.equal=function(e,t){if(e===t)return!0;var n,r=i.call(e);if(r!==i.call(t))return!1;if("[object Object]"===r){for(n in e)if(!l.equal(e[n],t[n])||!(n in t))return!1;for(n in t)if(!l.equal(e[n],t[n])||!(n in e))return!1;return!0}if("[object Array]"===r){if((n=e.length)!==t.length)return!1;for(;n--;)if(!l.equal(e[n],t[n]))return!1;return!0}return"[object Function]"===r?e.prototype===t.prototype:"[object Date]"===r&&e.getTime()===t.getTime()},l.hosted=function(e,t){var n=typeof t[e];return"object"===n?!!t[e]:!a[n]},l.instance=l.instanceof=function(e,t){return e instanceof t},l.nil=l.null=function(e){return null===e},l.undef=l.undefined=function(e){return void 0===e},l.args=l.arguments=function(e){var t="[object Arguments]"===i.call(e),n=!l.array(e)&&l.arraylike(e)&&l.object(e)&&l.fn(e.callee);return t||n},l.array=Array.isArray||function(e){return"[object Array]"===i.call(e)},l.args.empty=function(e){return l.args(e)&&0===e.length},l.array.empty=function(e){return l.array(e)&&0===e.length},l.arraylike=function(e){return!!e&&!l.bool(e)&&o.call(e,"length")&&isFinite(e.length)&&l.number(e.length)&&e.length>=0},l.bool=l.boolean=function(e){return"[object Boolean]"===i.call(e)},l.false=function(e){return l.bool(e)&&!1===Boolean(Number(e))},l.true=function(e){return l.bool(e)&&!0===Boolean(Number(e))},l.date=function(e){return"[object Date]"===i.call(e)},l.date.valid=function(e){return l.date(e)&&!isNaN(Number(e))},l.element=function(e){return void 0!==e&&"undefined"!=typeof HTMLElement&&e instanceof HTMLElement&&1===e.nodeType},l.error=function(e){return"[object Error]"===i.call(e)},l.fn=l.function=function(e){if("undefined"!=typeof window&&e===window.alert)return!0;var t=i.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t||"[object AsyncFunction]"===t},l.number=function(e){return"[object Number]"===i.call(e)},l.infinite=function(e){return e===1/0||e===-1/0},l.decimal=function(e){return l.number(e)&&!s(e)&&!l.infinite(e)&&e%1!=0},l.divisibleBy=function(e,t){var n=l.infinite(e),r=l.infinite(t),o=l.number(e)&&!s(e)&&l.number(t)&&!s(t)&&0!==t;return n||r||o&&e%t==0},l.integer=l.int=function(e){return l.number(e)&&!s(e)&&e%1==0},l.maximum=function(e,t){if(s(e))throw new TypeError("NaN is not a valid value");if(!l.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e<t[n])return!1;return!0},l.minimum=function(e,t){if(s(e))throw new TypeError("NaN is not a valid value");if(!l.arraylike(t))throw new TypeError("second argument must be array-like");for(var n=t.length;--n>=0;)if(e>t[n])return!1;return!0},l.nan=function(e){return!l.number(e)||e!=e},l.even=function(e){return l.infinite(e)||l.number(e)&&e==e&&e%2==0},l.odd=function(e){return l.infinite(e)||l.number(e)&&e==e&&e%2!=0},l.ge=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!l.infinite(e)&&!l.infinite(t)&&e>=t},l.gt=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!l.infinite(e)&&!l.infinite(t)&&e>t},l.le=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!l.infinite(e)&&!l.infinite(t)&&e<=t},l.lt=function(e,t){if(s(e)||s(t))throw new TypeError("NaN is not a valid value");return!l.infinite(e)&&!l.infinite(t)&&e<t},l.within=function(e,t,n){if(s(e)||s(t)||s(n))throw new TypeError("NaN is not a valid value");if(!l.number(e)||!l.number(t)||!l.number(n))throw new TypeError("all arguments must be numbers");return l.infinite(e)||l.infinite(t)||l.infinite(n)||e>=t&&e<=n},l.object=function(e){return"[object Object]"===i.call(e)},l.primitive=function(e){return!e||!("object"==typeof e||l.object(e)||l.fn(e)||l.array(e))},l.hash=function(e){return l.object(e)&&e.constructor===Object&&!e.nodeType&&!e.setInterval},l.regexp=function(e){return"[object RegExp]"===i.call(e)},l.string=function(e){return"[object String]"===i.call(e)},l.base64=function(e){return l.string(e)&&(!e.length||u.test(e))},l.hex=function(e){return l.string(e)&&(!e.length||c.test(e))},l.symbol=function(e){return"function"==typeof Symbol&&"[object Symbol]"===i.call(e)&&"symbol"==typeof t.call(e)},l.bigint=function(e){return"function"==typeof BigInt&&"[object BigInt]"===i.call(e)&&"bigint"==typeof n.call(e)},e.exports=l},824:e=>{var t=1e3,n=60*t,r=60*n,o=24*r;function i(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,s){s=s||{};var a,u,c=typeof e;if("string"===c&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(i){var s=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*o;case"hours":case"hour":case"hrs":case"hr":case"h":return s*r;case"minutes":case"minute":case"mins":case"min":case"m":return s*n;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===c&&isFinite(e))return s.long?(a=e,(u=Math.abs(a))>=o?i(a,u,o,"day"):u>=r?i(a,u,r,"hour"):u>=n?i(a,u,n,"minute"):u>=t?i(a,u,t,"second"):a+" ms"):function(e){var i=Math.abs(e);return i>=o?Math.round(e/o)+"d":i>=r?Math.round(e/r)+"h":i>=n?Math.round(e/n)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e](i,i.exports,r),i.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};(()=>{r.d(o,{RB:()=>d,hA:()=>c,nb:()=>l,ZP:()=>h});var t=r(187),n=r(227);const i=(s={spawn:()=>e.spawn},a={},r.d(a,s),a);var s,a,u=r(452);n("spawn_options").log=console.log.bind(console);const c={SERIALIZATION_JSON:"json",SERIALIZATION_ADVANCED:"advanced"},l=class{constructor(e){if(this._cwd=void 0,this._env=process.env,this._argv0=void 0,this._stdio=void 0,this._detached=!1,this._uid=void 0,this._gid=void 0,this._serialization=c.SERIALIZATION_JSON,this._shell=!1,this._windowsVerbatimArgs=!1,this._windowsHide=!1,this._signal=void 0,this._timeout=void 0,this._killSignal="SIGTERM",u.defined(e)){if(!u.object(e))throw new TypeError(`'config' is not an object. type(${typeof e})`);if(Object.prototype.hasOwnProperty.call(e,"cwd")){if(!u.a(e.cwd,"string")&&!u.instance(e.cwd,URL))throw new TypeError(`'config.cwd' is not string or URL. type(${typeof e.cwd})`);this._cwd=e.cwd}if(Object.prototype.hasOwnProperty.call(e,"env")){if(!u.object(e.env))throw new TypeError(`'config.env' is not an object. type(${typeof e.env})`);this._env=e.env}if(Object.prototype.hasOwnProperty.call(e,"argv0")){if(!u.a(e.argv0,"string"))throw new TypeError(`'config.argv0' is not string. type(${typeof e.cwd})`);this._argv0=e.argv0}if(Object.prototype.hasOwnProperty.call(e,"stdio")){if(!u.a(e.stdio,"string")&&!u.array(e.stdio))throw new TypeError(`'config.stdio' is not string or Array. type(${typeof e.stdio})`);this._stdio=e.stdio}if(Object.prototype.hasOwnProperty.call(e,"detached")){if(!u.bool(e.detached))throw new TypeError(`'config.detached' is not a boolean. type(${typeof e.detached})`);this._detached=e.detached}if(Object.prototype.hasOwnProperty.call(e,"uid")){if(!u.number(e.uid))throw new TypeError(`'config.uid' is not a number. type(${typeof e.uid})`);this._uid=e.uid}if(Object.prototype.hasOwnProperty.call(e,"gid")){if(!u.number(e.gid))throw new TypeError(`'config.gid' is not a number. type(${typeof e.gid})`);this._gid=e.gid}if(Object.prototype.hasOwnProperty.call(e,"serialization")){if(Object.values(c).indexOf(e.serialization),!u.lt(Object.values(c).indexOf(e.serialization),0))throw new TypeError(`'config.serialization' is not a serialization type. type(${typeof e.serialization})`);this._serialization=e.serialization}if(Object.prototype.hasOwnProperty.call(e,"shell")){if(!u.bool(e.shell)&&!u.a(e.shell,"string"))throw new TypeError(`'config.shell' is neither a boolean nor a string. type(${typeof e.shell})`);this._shell=e.shell}if(Object.prototype.hasOwnProperty.call(e,"windowsVerbatimArguments")){if(!u.bool(e.windowsVerbatimArguments))throw new TypeError(`'config.windowsVerbatimArguments' is not a boolean. type(${typeof e.windowsVerbatimArguments})`);this._windowsVerbatimArgs=e.windowsVerbatimArguments}if(Object.prototype.hasOwnProperty.call(e,"windowsHide")){if(!u.bool(e.windowsHide))throw new TypeError(`'config.windowsHide' is not a boolean. type(${typeof e.windowsHide})`);this._windowsHide=e.windowsHide}if(Object.prototype.hasOwnProperty.call(e,"signal")){if(!u.instance(e.signal,AbortSignal))throw new TypeError(`'config.signal' is not an AbortSignal type. type(${typeof e.signal})`);this._signal=e.signal}if(Object.prototype.hasOwnProperty.call(e,"timeout")){if(!u.number(e.timeout))throw new TypeError(`'config.timeout' is not a number type(${typeof e.timeout})`);this._timeout=e.timeout}if(Object.prototype.hasOwnProperty.call(e,"killSignal")){if(!u.a(e.killSignal,"string")&&!u.integer(e.killSignal))throw new TypeError(`'config.killSignal' is neither a string nor integer type. type(${typeof e.killSignal})`);this._killSignal=e.killSignal}}}get CurrentWorkingDirectory(){return this._cwd}get Environment(){return this._env}get ArgV0(){return this._argv0}get StdIo(){return this._stdio}get Detached(){return this._detached}get UID(){return this._uid}get GID(){return this._gid}get Serialization(){return this._serialization}get Shell(){return this._shell}get WindowsVerbatimArguments(){return this._windowsVerbatimArgs}get WindowsHide(){return this._windowsHide}get AbortSignal(){return this._signal}get Timeout(){return this._timeout}get KillSignal(){return this._killSignal}get Data(){return{cwd:this.CurrentWorkingDirectory,env:this.Environment,argv0:this.ArgV0,stdio:this.StdIo,detached:this.Detached,uid:this.UID,gid:this.GID,serialization:this.Serialization,shell:this.Shell,windowsVerbatimArguments:this.WindowsVerbatimArguments,windowsHide:this.WindowsHide,signal:this.AbortSignal,timeout:this.Timeout,killSignal:this.KillSignal}}},f=n("spawn_helper");f.log=console.log.bind(console);const d={EVENT_COMPLETE:"complete"},h=class extends t{constructor(e){if(void 0!==e)throw new TypeError("SpawnHelper does not use any arguments.");super(),this._command=void 0,this._arguments=void 0,this._options=void 0,this._token=void 0,this._result_data=void 0,this._error_data=void 0,this._error_encountered=!1,this._pending=!1,this._CB__process_stdout_data=this._process_stdout_data.bind(this),this._CB__process_stderror_data=this._process_stderror_data.bind(this),this._CB_process_message=this._process_message.bind(this),this._CB_process_error=this._process_error.bind(this),this._CB_process_close=this._process_close.bind(this)}get IsPending(){return this._pending}get IsValid(){return!u.undefined(this.Command)&&!this.IsPending&&!this._error_encountered}get Result(){return this._result_data}get Error(){return this._error_data}get Command(){return this._command}get Arguments(){return this._arguments}get Options(){return this._options}get Token(){return this._token}get Options(){return this._options}Spawn(e){if(this.IsPending)throw new Error("Spawn is already in progress.");if(u.undef(e)||!u.object(e))throw new TypeError("request must be an object");if(!Object.prototype.hasOwnProperty.call(e,"command")||!u.string(e.command)||e.command.length<=0)throw new TypeError("request.command must be a non-zero length string.");if(this._command=e.command,Object.prototype.hasOwnProperty.call(e,"arguments")){if(!u.array(e.arguments))throw new TypeError("request.arguments must be an array of strings.");for(const t of e.arguments)if(!u.string(t))throw new TypeError("request.arguments must contain only strings.");this._arguments=e.arguments}else this._arguments=[];let t;if(Object.prototype.hasOwnProperty.call(e,"options")){if(!u.instance(e.options,l))throw new TypeError("request.options must be an instance of _SpawnOptions.");this._options=e.options,t=e.options.Data}else this._options=void 0;if(Object.prototype.hasOwnProperty.call(e,"token")){if(u.undef(e.token))throw new TypeError("request.token must be something if it is specified.");this._token=e.token}else this._token=void 0;this._result_data=void 0,this._error_data=void 0,this._error_encountered=!1,this._pending=!0,f(`Spawning command: ${this.Command}`);const n=(0,i.spawn)(this.Command,this.Arguments,t);n.stdout.on("data",this._CB__process_stdout_data),n.stderr.on("data",this._CB__process_stderror_data),n.on("message",this._CB_process_message),n.on("error",this._CB_process_error),n.on("close",this._CB_process_close)}_process_stdout_data(e){u.undef(this._result_data)?this._result_data=e:this._result_data+=e}_process_stderror_data(e){u.undef(this._error_data)?this._error_data=e:this._error_data+=e,this._error_encountered=!0}_process_message(e,t){f(`Child Process for ${this.Command}: '${e}'`)}_process_error(e){f(`Child Process for ${this.Command}: error_num:${e.number} error_name:${e.name} error_msg:${e.message}`),this._error_encountered=!0}_process_close(e,t){f(`Child Process for ${this.Command}: exit_code:${e} by signal:'${t}'`),this._pending=!1;const n=this.IsValid,r={valid:n,result:n?this.Result:this.Error,token:this.Token,source:this};this.emit(d.EVENT_COMPLETE,r)}}})();var i=o.RB,s=o.hA,a=o.nb,u=o.ZP;export{i as SPAWN_HELPER_EVENTS,s as SPAWN_OPTIONS_SERIALIZATION_TYPES,a as SpawnOptions,u as default};